EESchema Schematic File Version 4
EELAYER 30 0
EELAYER END
$Descr A 11000 8500
encoding utf-8
Sheet 10 10
Title "HR2 Master Board"
Date "2020-10-17"
Rev "A"
Comp "HomeBrew Robotics Club"
Comment1 "Copyright Â© 2020 by HomeBrew Robotics Club "
Comment2 "MIT License"
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L HR2:NUCLEO-F767ZI;2xF2x35 CN95
U 1 1 5F336099
P 1600 800
F 0 "CN95" H 1950 950 50  0000 C CNN
F 1 "NUCLEO-F767ZI;2xF2x35" H 2300 -850 50  0000 C CNN
F 2 "HR2:NUCLEO_F767ZI_2xF2x35" H 1800 850 60  0001 L CNN
F 3 "https://www.st.com/resource/en/user_manual/dm00244518-stm32-nucleo144-boards-stmicroelectronics.pdf" H 1800 650 60  0001 L CNN
F 4 "https://www.st.com/resource/en/user_manual/dm00244518-stm32-nucleo144-boards-stmicroelectronics.pdf" H 1800 750 60  0001 L CNN "manf#"
F 5 "NUCLEO144-F767ZI;Nucleo144 STM32F767ZI" H 1800 550 60  0001 L CNN "Field5"
	1    1600 800 
	1    0    0    -1  
$EndComp
$Comp
L HR2:NUCLEO-F767ZI;2xF2x35 CN95
U 4 1 5F34731B
P 4100 800
F 0 "CN95" H 4450 950 50  0000 C CNN
F 1 "NUCLEO-F767ZI;2xF2x35" H 4800 -850 50  0000 C CNN
F 2 "HR2:NUCLEO_F767ZI_2xF2x35" H 4300 850 60  0001 L CNN
F 3 "https://www.st.com/resource/en/user_manual/dm00244518-stm32-nucleo144-boards-stmicroelectronics.pdf" H 4300 650 60  0001 L CNN
F 4 "https://www.st.com/resource/en/user_manual/dm00244518-stm32-nucleo144-boards-stmicroelectronics.pdf" H 4300 750 60  0001 L CNN "manf#"
F 5 "NUCLEO144-F767ZI;Nucleo144 STM32F767ZI" H 4300 550 60  0001 L CNN "Field5"
	4    4100 800 
	1    0    0    -1  
$EndComp
$Comp
L HR2:NUCLEO-F767ZI;2xF2x35 CN95
U 6 1 5F34EC57
P 4300 4800
F 0 "CN95" H 4650 4950 50  0000 C CNN
F 1 "NUCLEO-F767ZI;2xF2x35" H 5000 3150 50  0000 C CNN
F 2 "HR2:NUCLEO_F767ZI_2xF2x35" H 4500 4850 60  0001 L CNN
F 3 "https://www.st.com/resource/en/user_manual/dm00244518-stm32-nucleo144-boards-stmicroelectronics.pdf" H 4500 4650 60  0001 L CNN
F 4 "https://www.st.com/resource/en/user_manual/dm00244518-stm32-nucleo144-boards-stmicroelectronics.pdf" H 4500 4750 60  0001 L CNN "manf#"
F 5 "NUCLEO144-F767ZI;Nucleo144 STM32F767ZI" H 4500 4550 60  0001 L CNN "Field5"
	6    4300 4800
	1    0    0    -1  
$EndComp
$Comp
L HR2:NUCLEO-F767ZI;2xF2x35 CN95
U 7 1 5F352849
P 7100 800
F 0 "CN95" H 7450 950 50  0000 C CNN
F 1 "NUCLEO-F767ZI;2xF2x35" H 7800 -850 50  0000 C CNN
F 2 "HR2:NUCLEO_F767ZI_2xF2x35" H 7300 850 60  0001 L CNN
F 3 "https://www.st.com/resource/en/user_manual/dm00244518-stm32-nucleo144-boards-stmicroelectronics.pdf" H 7300 650 60  0001 L CNN
F 4 "https://www.st.com/resource/en/user_manual/dm00244518-stm32-nucleo144-boards-stmicroelectronics.pdf" H 7300 750 60  0001 L CNN "manf#"
F 5 "NUCLEO144-F767ZI;Nucleo144 STM32F767ZI" H 7300 550 60  0001 L CNN "Field5"
	7    7100 800 
	1    0    0    -1  
$EndComp
$Comp
L HR2:NUCLEO-F767ZI;2xF2x35 CN95
U 9 1 5F35A1BA
P 7700 3400
F 0 "CN95" H 8000 3550 50  0000 C CNN
F 1 "NUCLEO-F767ZI;2xF2x35" H 8400 2850 50  0000 C CNN
F 2 "HR2:NUCLEO_F767ZI_2xF2x35" H 7900 3450 60  0001 L CNN
F 3 "https://www.st.com/resource/en/user_manual/dm00244518-stm32-nucleo144-boards-stmicroelectronics.pdf" H 7900 3250 60  0001 L CNN
F 4 "https://www.st.com/resource/en/user_manual/dm00244518-stm32-nucleo144-boards-stmicroelectronics.pdf" H 7900 3350 60  0001 L CNN "manf#"
F 5 "NUCLEO144-F767ZI;Nucleo144 STM32F767ZI" H 7900 3150 60  0001 L CNN "Field5"
	9    7700 3400
	1    0    0    -1  
$EndComp
NoConn ~ 3000 1700
NoConn ~ 3000 1800
NoConn ~ 3000 1900
NoConn ~ 3000 2000
NoConn ~ 3000 3700
NoConn ~ 5500 4800
NoConn ~ 5500 4900
NoConn ~ 5500 5000
NoConn ~ 5500 5100
NoConn ~ 8500 3800
NoConn ~ 8500 800 
NoConn ~ 8500 900 
NoConn ~ 8500 1000
NoConn ~ 8500 1100
NoConn ~ 8500 1200
NoConn ~ 8500 1300
NoConn ~ 8500 1400
NoConn ~ 8500 1500
NoConn ~ 8500 1600
NoConn ~ 8500 2000
NoConn ~ 8500 2100
NoConn ~ 8500 2300
NoConn ~ 3000 900 
NoConn ~ 3000 1000
$Comp
L HR2:NUCLEO-F767ZI;2xF2x35 CN95
U 10 1 5F56BA37
P 8400 4600
F 0 "CN95" H 8750 4750 50  0000 C CNN
F 1 "NUCLEO-F767ZI;2xF2x35" H 9100 3350 50  0000 C CNN
F 2 "HR2:NUCLEO_F767ZI_2xF2x35" H 8600 4650 60  0001 L CNN
F 3 "https://www.st.com/resource/en/user_manual/dm00244518-stm32-nucleo144-boards-stmicroelectronics.pdf" H 8600 4450 60  0001 L CNN
F 4 "https://www.st.com/resource/en/user_manual/dm00244518-stm32-nucleo144-boards-stmicroelectronics.pdf" H 8600 4550 60  0001 L CNN "manf#"
F 5 "NUCLEO144-F767ZI;Nucleo144 STM32F767ZI" H 8600 4350 60  0001 L CNN "Field5"
	10   8400 4600
	1    0    0    -1  
$EndComp
Wire Wire Line
	9900 4600 10000 4600
Wire Wire Line
	10000 4600 10000 4700
Wire Wire Line
	10000 5700 9900 5700
Wire Wire Line
	9900 5600 10000 5600
Connection ~ 10000 5600
Wire Wire Line
	10000 5600 10000 5700
Wire Wire Line
	9900 5500 10000 5500
Connection ~ 10000 5500
Wire Wire Line
	10000 5500 10000 5600
Wire Wire Line
	9900 5400 10000 5400
Connection ~ 10000 5400
Wire Wire Line
	10000 5400 10000 5500
Wire Wire Line
	9900 5300 10000 5300
Connection ~ 10000 5300
Wire Wire Line
	10000 5300 10000 5400
Wire Wire Line
	9900 5200 10000 5200
Connection ~ 10000 5200
Wire Wire Line
	10000 5200 10000 5300
Wire Wire Line
	9900 5100 10000 5100
Connection ~ 10000 5100
Wire Wire Line
	10000 5100 10000 5200
Wire Wire Line
	9900 5000 10000 5000
Connection ~ 10000 5000
Wire Wire Line
	10000 5000 10000 5100
Wire Wire Line
	9900 4900 10000 4900
Connection ~ 10000 4900
Wire Wire Line
	10000 4900 10000 5000
Wire Wire Line
	9900 4800 10000 4800
Connection ~ 10000 4800
Wire Wire Line
	10000 4800 10000 4900
Wire Wire Line
	9900 4700 10000 4700
Connection ~ 10000 4700
Wire Wire Line
	10000 4700 10000 4800
Text HLabel 8100 5950 0    50   Input ~ 0
GND
Wire Wire Line
	8100 5950 10000 5950
Wire Wire Line
	10000 5950 10000 5700
Connection ~ 10000 5700
NoConn ~ 8400 4800
NoConn ~ 8400 4900
NoConn ~ 8400 5000
NoConn ~ 8400 5300
NoConn ~ 8400 4700
Text HLabel 8100 5100 0    50   Input ~ 0
5V
Wire Wire Line
	8100 5100 8300 5100
Wire Wire Line
	8400 5200 8300 5200
Wire Wire Line
	8300 5200 8300 5100
Connection ~ 8300 5100
Wire Wire Line
	8300 5100 8400 5100
NoConn ~ 8400 5500
NoConn ~ 8400 5400
Text HLabel 3500 2200 2    50   Input ~ 0
SWCLK
Text HLabel 6000 1600 2    50   Input ~ 0
STL_RX
Text HLabel 6000 1700 2    50   Input ~ 0
STL_TX
Text HLabel 3500 2100 2    50   BiDi ~ 0
SWDIO
Text HLabel 3500 3200 2    50   Output ~ 0
LMOTOR_CTL1
Text HLabel 3500 3300 2    50   Output ~ 0
LMOTOR_CTL2
Text HLabel 3500 2900 2    50   Output ~ 0
RMOTOR_CTL2
Text HLabel 7000 4700 2    50   Input ~ 0
~MOTOR_FAULT_IN
Text HLabel 6000 2000 2    50   Input ~ 0
LQUAD_A
Text HLabel 3500 1200 2    50   Input ~ 0
LQUAD_B
Text HLabel 3500 3000 2    50   Output ~ 0
LEDS_MOSI
Text HLabel 6000 2800 2    50   Input ~ 0
ECHO1
Text HLabel 6000 3600 2    50   Input ~ 0
ECHO2
Text HLabel 6000 3800 2    50   Input ~ 0
ECHO3
Text HLabel 6000 4000 2    50   Input ~ 0
ECHO4
Text HLabel 6000 4200 2    50   Input ~ 0
ECHO5
Text HLabel 6000 4300 2    50   Input ~ 0
ECHO6
Text HLabel 6000 5700 2    50   Input ~ 0
ECHO7
Text HLabel 3500 4000 2    50   Output ~ 0
LIDAR_TX
Text HLabel 3500 4100 2    50   Input ~ 0
LIDAR_RX
Text HLabel 3500 3100 2    50   Output ~ 0
SERVO2
Text HLabel 3500 800  2    50   Output ~ 0
SERVO1
Text HLabel 3500 3800 2    50   Output ~ 0
SERVO3
Text HLabel 3500 3900 2    50   Output ~ 0
SERVO4
NoConn ~ 3000 2800
NoConn ~ 5500 3100
NoConn ~ 5500 3500
NoConn ~ 5500 3900
NoConn ~ 5500 4100
NoConn ~ 5500 6100
NoConn ~ 5500 6300
NoConn ~ 3000 4200
NoConn ~ 3000 3500
NoConn ~ 3000 3600
NoConn ~ 5500 5900
NoConn ~ 5500 2300
NoConn ~ 5500 3700
NoConn ~ 8500 1900
NoConn ~ 5500 5300
NoConn ~ 5500 5500
Text HLabel 6000 3400 2    50   Output ~ 0
DIO_MOSI
Text HLabel 6000 3000 2    50   Output ~ 0
DIO_SCK
Text HLabel 6000 3200 2    50   Output ~ 0
~DIO_NSS
Text HLabel 3500 1100 2    50   Input ~ 0
A0
Text HLabel 6000 5800 2    50   BiDi ~ 0
A5_SCL
Text HLabel 9000 1700 2    50   Output ~ 0
D0_RX
Text HLabel 9000 2200 2    50   Input ~ 0
D1_TX
Text HLabel 6000 2200 2    50   Output ~ 0
D10_PWM_NSS
Text HLabel 3500 1500 2    50   Output ~ 0
D11_PWM_MOSI
Text HLabel 3500 1400 2    50   Input ~ 0
D12_MISO
Text HLabel 3500 1300 2    50   Output ~ 0
D13_SCK
Text HLabel 9000 3500 2    50   Output ~ 0
~NRST
Text HLabel 6000 1000 2    50   Input ~ 0
INT0
Text HLabel 6000 900  2    50   Input ~ 0
INT1
Text HLabel 3500 2300 2    50   Output ~ 0
~LEDS_NSS
Text HLabel 6000 2100 2    50   Output ~ 0
LIDAR_PWM
Text HLabel 6000 1400 2    50   Input ~ 0
WOW_TX
Text HLabel 6000 1300 2    50   Output ~ 0
WOW_RX
Text HLabel 3500 6000 2    50   Output ~ 0
WOW_EN
Text HLabel 3500 4300 2    50   Input ~ 0
SBC_TX
Text HLabel 3500 3400 2    50   Output ~ 0
SBC_RX
Text HLabel 6000 800  2    50   Input ~ 0
SBC_ALIVE
$Comp
L HR2:NUCLEO-F767ZI;2xF2x35 CN95
U 2 1 5F33E76C
P 1400 2800
F 0 "CN95" H 1750 2950 50  0000 C CNN
F 1 "NUCLEO-F767ZI;2xF2x35" H 2100 1150 50  0000 C CNN
F 2 "HR2:NUCLEO_F767ZI_2xF2x35" H 1600 2850 60  0001 L CNN
F 3 "https://www.st.com/resource/en/user_manual/dm00244518-stm32-nucleo144-boards-stmicroelectronics.pdf" H 1600 2650 60  0001 L CNN
F 4 "https://www.st.com/resource/en/user_manual/dm00244518-stm32-nucleo144-boards-stmicroelectronics.pdf" H 1600 2750 60  0001 L CNN "manf#"
F 5 "NUCLEO144-F767ZI;Nucleo144 STM32F767ZI" H 1600 2550 60  0001 L CNN "Field5"
	2    1400 2800
	1    0    0    -1  
$EndComp
Wire Wire Line
	3000 800  3500 800 
Wire Wire Line
	5500 4000 6000 4000
Wire Wire Line
	5500 5700 6000 5700
Wire Wire Line
	6000 4200 5500 4200
Wire Wire Line
	5500 4300 6000 4300
Wire Wire Line
	5500 2800 6000 2800
$Comp
L HR2:NUCLEO-F767ZI;2xF2x35 CN95
U 5 1 5F34B911
P 4300 2800
F 0 "CN95" H 4650 2950 50  0000 C CNN
F 1 "NUCLEO-F767ZI;2xF2x35" H 5000 1150 50  0000 C CNN
F 2 "HR2:NUCLEO_F767ZI_2xF2x35" H 4500 2850 60  0001 L CNN
F 3 "https://www.st.com/resource/en/user_manual/dm00244518-stm32-nucleo144-boards-stmicroelectronics.pdf" H 4500 2650 60  0001 L CNN
F 4 "https://www.st.com/resource/en/user_manual/dm00244518-stm32-nucleo144-boards-stmicroelectronics.pdf" H 4500 2750 60  0001 L CNN "manf#"
F 5 "NUCLEO144-F767ZI;Nucleo144 STM32F767ZI" H 4500 2550 60  0001 L CNN "Field5"
	5    4300 2800
	1    0    0    -1  
$EndComp
Wire Wire Line
	5500 3600 6000 3600
Wire Wire Line
	5500 3800 6000 3800
Wire Wire Line
	3000 1500 3500 1500
Wire Wire Line
	3000 1400 3500 1400
Wire Wire Line
	3000 1300 3500 1300
Wire Wire Line
	5500 2900 5700 2900
Wire Wire Line
	3400 1200 3500 1200
Wire Wire Line
	3400 1200 3400 1600
Wire Wire Line
	3000 1100 3500 1100
Wire Wire Line
	3000 1200 3400 1200
Connection ~ 3400 1200
Wire Wire Line
	5500 2000 6000 2000
Wire Wire Line
	3000 2300 3500 2300
Wire Wire Line
	5700 2900 5700 2500
Wire Wire Line
	3000 3000 3500 3000
Wire Wire Line
	3000 3100 3500 3100
Wire Wire Line
	3000 3800 3500 3800
Wire Wire Line
	3000 3900 3500 3900
Wire Wire Line
	3000 2900 3500 2900
Wire Wire Line
	3000 3200 3500 3200
Wire Wire Line
	3000 3300 3500 3300
Wire Wire Line
	8500 2200 9000 2200
Wire Wire Line
	9000 1700 8500 1700
Wire Wire Line
	5500 1600 6000 1600
Wire Wire Line
	6000 1700 5500 1700
Wire Wire Line
	3000 2100 3500 2100
Wire Wire Line
	3500 2200 3000 2200
Wire Wire Line
	5500 2100 6000 2100
Wire Wire Line
	6000 2200 5500 2200
Wire Wire Line
	5500 5800 5700 5800
Wire Wire Line
	8500 3500 9000 3500
Wire Wire Line
	3500 4300 3000 4300
Wire Wire Line
	3000 3400 3500 3400
Wire Wire Line
	5500 1300 6000 1300
Wire Wire Line
	3000 4000 3500 4000
Wire Wire Line
	3500 4100 3000 4100
Text HLabel 6000 3300 2    50   Input ~ 0
DIO_MISO
Wire Wire Line
	5500 3200 6000 3200
Wire Wire Line
	6000 3300 5500 3300
Wire Wire Line
	5500 3400 6000 3400
Wire Wire Line
	5500 3000 6000 3000
NoConn ~ 8500 2900
NoConn ~ 8500 2800
$Comp
L HR2:NUCLEO-F767ZI;2xF2x35 CN95
U 8 1 5F355CEA
P 6500 2800
F 0 "CN95" H 6850 2950 50  0000 C CNN
F 1 "NUCLEO-F767ZI;2xF2x35" H 7200 2550 50  0000 C CNN
F 2 "HR2:NUCLEO_F767ZI_2xF2x35" H 6700 2850 60  0001 L CNN
F 3 "https://www.st.com/resource/en/user_manual/dm00244518-stm32-nucleo144-boards-stmicroelectronics.pdf" H 6700 2650 60  0001 L CNN
F 4 "https://www.st.com/resource/en/user_manual/dm00244518-stm32-nucleo144-boards-stmicroelectronics.pdf" H 6700 2750 60  0001 L CNN "manf#"
F 5 "NUCLEO144-F767ZI;Nucleo144 STM32F767ZI" H 6700 2550 60  0001 L CNN "Field5"
	8    6500 2800
	1    0    0    -1  
$EndComp
Wire Wire Line
	3000 1600 3300 1600
Wire Wire Line
	3300 1600 3300 1700
Wire Wire Line
	4100 4550 5700 4550
Wire Wire Line
	5700 4550 5700 5800
Connection ~ 5700 5800
Wire Wire Line
	5700 5800 6000 5800
Wire Wire Line
	3400 1600 4200 1600
Wire Wire Line
	4200 1600 4200 2500
Wire Wire Line
	4200 2500 5700 2500
Wire Wire Line
	3300 1700 4100 1700
Wire Wire Line
	5500 900  6000 900 
Wire Wire Line
	6000 1000 5500 1000
Text HLabel 7000 4800 2    50   Output ~ 0
~MOTOR_FAULT_OUT
Wire Wire Line
	7000 4700 6900 4700
Wire Wire Line
	6900 4700 6900 4800
Wire Wire Line
	6900 4800 7000 4800
Wire Wire Line
	5500 1400 6000 1400
Text HLabel 7000 4500 2    50   Input ~ 0
~ESTOP_IN
Text HLabel 6000 1500 2    50   Input ~ 0
ESTOP
Text Notes 8850 4350 0    50   ~ 0
Morpho Power Pins.
Text HLabel 7000 4600 2    50   Output ~ 0
~MOTOR_SLEEP
Wire Wire Line
	7000 4500 6900 4500
Wire Wire Line
	6900 4500 6900 4600
Wire Wire Line
	6900 4600 7000 4600
Wire Wire Line
	5500 1500 6000 1500
Wire Wire Line
	4100 1700 4100 4550
Wire Wire Line
	3100 5700 3500 5700
Connection ~ 3100 5700
Wire Wire Line
	3100 5100 3100 5700
Wire Wire Line
	3000 5100 3100 5100
Wire Wire Line
	3000 4800 3500 4800
Wire Wire Line
	3000 5600 3500 5600
Wire Wire Line
	3000 5800 3500 5800
Wire Wire Line
	3000 5700 3100 5700
Wire Wire Line
	3500 5500 3000 5500
Wire Wire Line
	3000 5400 3500 5400
$Comp
L HR2:NUCLEO-F767ZI;2xF2x35 CN95
U 3 1 5F3444CA
P 800 4800
F 0 "CN95" H 1150 4950 50  0000 C CNN
F 1 "NUCLEO-F767ZI;2xF2x35" H 1500 3150 50  0000 C CNN
F 2 "HR2:NUCLEO_F767ZI_2xF2x35" H 1000 4850 60  0001 L CNN
F 3 "https://www.st.com/resource/en/user_manual/dm00244518-stm32-nucleo144-boards-stmicroelectronics.pdf" H 1000 4650 60  0001 L CNN
F 4 "https://www.st.com/resource/en/user_manual/dm00244518-stm32-nucleo144-boards-stmicroelectronics.pdf" H 1000 4750 60  0001 L CNN "manf#"
F 5 "NUCLEO144-F767ZI;Nucleo144 STM32F767ZI" H 1000 4550 60  0001 L CNN "Field5"
	3    800  4800
	1    0    0    -1  
$EndComp
Text HLabel 3500 5700 2    50   BiDi ~ 0
A4_SDA
Text HLabel 3500 4800 2    50   Input ~ 0
A1
Text HLabel 3500 5800 2    50   Output ~ 0
LEDS_SCLK
Text HLabel 3500 5500 2    50   Input ~ 0
RQUAD_B
Text HLabel 3500 5400 2    50   Input ~ 0
RQUAD_A
Text HLabel 3500 5600 2    50   Output ~ 0
RMOTOR_CTL1
NoConn ~ 3000 6300
NoConn ~ 3000 6200
NoConn ~ 3000 6100
NoConn ~ 3000 5900
NoConn ~ 3000 5300
NoConn ~ 3000 5200
NoConn ~ 3000 4900
Text HLabel 6000 1100 2    50   Output ~ 0
~ESTOP_CLR
Wire Wire Line
	3000 5000 3500 5000
Wire Wire Line
	3000 6000 3500 6000
Wire Wire Line
	5500 800  6000 800 
Text Notes 6900 4400 0    50   ~ 0
Cross Sheet Connetions
Text HLabel 3500 5000 2    50   Input ~ 0
SERVO_CUR
Text HLabel 6000 5600 2    50   Input ~ 0
SERVO_POS
NoConn ~ 7000 5000
NoConn ~ 7000 5100
Wire Wire Line
	5500 1100 6000 1100
Wire Wire Line
	5500 5600 6000 5600
$EndSCHEMATC
